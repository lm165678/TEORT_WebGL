// 将环境捕捉数据渲染并查看
Def EnvCaptureOutDef{
    Params{
        samplerCube envCaptureMap;
        float lod;
    }
    SubTechnology EnvCaptureOut{
        Vars{
            vec3 wPosition;
        }
        Vs_Shader{
            void main(){
                wPosition = Context.InPosition;
                Context.OutPosition = Context.ProjectMatrix * Context.ViewMatrix * Context.ModelMatrix * vec4(Context.InPosition, 1.0f);
            }
        }
        Fs_Shader{
            void main(){
                #ifdef Params.envCaptureMap
                    #ifdef Params.lod
                        Context.OutColor = textureLod(Params.envCaptureMap, normalize(wPosition), Params.lod);
                    #else
                        Context.OutColor = texture(Params.envCaptureMap, normalize(wPosition));
                    #endif
                #else
                    Context.OutColor = vec4(1.0f);
                #endif
            }
        }
    }
    Technology{
        Sub_Pass{
            Pass EnvCaptureOut{
            }
        }
    }
}
